"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkauth_screen"] = self["webpackChunkauth_screen"] || []).push([["src_components_TwoFactorForm_js"],{

/***/ "./src/components/TwoFactorForm.js":
/*!*****************************************!*\
  !*** ./src/components/TwoFactorForm.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Spinner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Spinner */ \"./src/components/Spinner.js\");\n/* harmony import */ var _validation_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../validation/index.js */ \"./src/validation/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n\n\n\n\n\nconst TwoFactorForm = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().memo(({\n  onSubmit,\n  onGetNewCode,\n  isLoading = false,\n  error = null,\n  onErrorChange = null,\n  codeExpirationTime = 30000 // 30 секунд по умолчанию (в миллисекундах)\n}) => {\n  const [code, setCode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(['', '', '', '', '', '']);\n  const [timeLeft, setTimeLeft] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(codeExpirationTime); // время в миллисекундах\n  const [isExpired, setIsExpired] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n\n  // Создаём ref для каждого поля\n  const inputRefs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Array(6).fill().map(() => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef()));\n\n  // Таймер обратного отсчета\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (timeLeft <= 0) {\n      setIsExpired(true);\n      return;\n    }\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1000) {\n          setIsExpired(true);\n          return 0;\n        }\n        return prev - 1000;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [timeLeft]);\n\n  // Сброс таймера при получении нового кода\n  const handleGetNewCode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (onGetNewCode) {\n      onGetNewCode();\n      setTimeLeft(codeExpirationTime);\n      setIsExpired(false);\n      // Очищаем поля кода\n      setCode(['', '', '', '', '', '']);\n      // Фокус на первое поле\n      if (inputRefs.current[0]?.current) {\n        inputRefs.current[0].current.focus();\n      }\n    }\n  }, [onGetNewCode, codeExpirationTime]);\n\n  // Очищаем ошибки API при изменении кода\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (error && onErrorChange) {\n      onErrorChange();\n    }\n  }, [code, error, onErrorChange]);\n  const handleInput = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((index, value) => {\n    const newCode = [...code];\n    const digit = value.replace(/[^0-9]/g, '').slice(-1); // Берем только последний символ\n    newCode[index] = digit;\n    setCode(newCode);\n\n    // Автоматический переход на следующее поле\n    if (digit && index < 5 && inputRefs.current[index + 1]) {\n      setTimeout(() => {\n        inputRefs.current[index + 1]?.current?.focus();\n      }, 0);\n    }\n  }, [code]);\n  const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((index, e) => {\n    if (e.key === 'Backspace' && !code[index] && index > 0) {\n      e.preventDefault();\n      inputRefs.current[index - 1]?.current?.focus();\n    } else if (e.key === 'ArrowLeft' && index > 0) {\n      e.preventDefault();\n      inputRefs.current[index - 1]?.current?.focus();\n    } else if (e.key === 'ArrowRight' && index < 5) {\n      e.preventDefault();\n      inputRefs.current[index + 1]?.current?.focus();\n    }\n  }, [code]);\n  const handlePaste = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {\n    e.preventDefault();\n    const pastedData = (e.clipboardData || window.clipboardData).getData('text');\n    if (!pastedData) return;\n\n    // Извлекаем только цифры и ограничиваем до 6 символов\n    const digits = pastedData.replace(/[^0-9]/g, '').slice(0, 6);\n    if (digits.length === 0) {\n      // Если нет цифр, показываем визуальную обратную связь\n      return;\n    }\n    const newCode = ['', '', '', '', '', ''];\n    for (let i = 0; i < digits.length; i++) {\n      newCode[i] = digits[i];\n    }\n    setCode(newCode);\n\n    // Фокус на последнее заполненное поле или первое пустое\n    const focusIndex = Math.min(digits.length, 1);\n    setTimeout(() => {\n      inputRefs.current[focusIndex]?.current?.focus();\n    }, 0);\n\n    // НЕ отправляем автоматически - ждем нажатия кнопки Continue\n  }, []);\n  const handleSubmit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {\n    if (e) e.preventDefault();\n    if (isExpired) return; // Не отправляем если код истек\n\n    const codeStr = code.join('');\n    if (codeStr.length !== 6) return;\n    onSubmit(codeStr);\n  }, [code, onSubmit, isExpired]);\n  const isCodeValid = (0,_validation_index_js__WEBPACK_IMPORTED_MODULE_3__.validateCode)(code);\n  const canContinue = isCodeValid && !isExpired && !isLoading;\n\n  // Форматирование времени (MM:SS)\n  const formatTime = ms => {\n    const totalSeconds = Math.floor(ms / 1000);\n    const seconds = totalSeconds % 60;\n    return `${seconds.toString().padStart(2, '0')}`;\n  };\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"form\", {\n    className: \"login-form\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      className: \"code-inputs\",\n      role: \"group\",\n      \"aria-label\": \"Two-factor authentication code\",\n      children: code.map((digit, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n        ref: inputRefs.current[index],\n        id: `code-${index}`,\n        type: \"text\",\n        className: \"code-input\",\n        maxLength: \"1\",\n        pattern: \"[0-9]\",\n        inputMode: \"numeric\",\n        value: digit,\n        onInput: e => handleInput(index, e.target.value),\n        onKeyDown: e => handleKeyDown(index, e),\n        onPaste: handlePaste,\n        required: true,\n        disabled: isExpired,\n        \"aria-label\": `Code digit ${index + 1}`,\n        \"aria-invalid\": !isCodeValid && code.filter(c => c).length > 0\n      }, `code-input-${index}`))\n    }), !isExpired && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      className: \"code-timer\",\n      style: {\n        textAlign: 'center',\n        fontSize: '14px',\n        color: 'rgba(0, 0, 0, 0.45)',\n        marginTop: '8px'\n      },\n      children: [\"Code expires in: \", formatTime(timeLeft), \" seconds\"]\n    }), error && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      className: \"input-caption error-message\",\n      role: \"alert\",\n      style: {\n        display: 'flex'\n      },\n      children: error\n    }), !isExpired && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n      type: \"submit\",\n      \"aria-label\": \"Continue\",\n      className: `submit-button ${canContinue ? 'primary-button' : 'disabled'}`,\n      disabled: !canContinue,\n      style: {\n        display: canContinue ? 'flex' : 'none'\n      },\n      children: isLoading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Spinner__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}) : 'Continue'\n    }), isExpired && onGetNewCode && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n      type: \"button\",\n      onClick: handleGetNewCode,\n      \"aria-label\": \"Get new code\",\n      className: \"submit-button primary-button\",\n      disabled: isLoading,\n      children: isLoading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Spinner__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}) : 'Get now'\n    })]\n  });\n});\nTwoFactorForm.propTypes = {\n  onSubmit: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func).isRequired,\n  onGetNewCode: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  isLoading: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),\n  error: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  onErrorChange: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  codeExpirationTime: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number)\n};\nTwoFactorForm.displayName = 'TwoFactorForm';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TwoFactorForm);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9Ud29GYWN0b3JGb3JtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdFO0FBQ3JDO0FBQ0g7QUFDc0I7QUFBQTtBQUV0RCxNQUFNWSxhQUFhLGdCQUFHWixpREFBVSxDQUFDLENBQUM7RUFDaENjLFFBQVE7RUFDUkMsWUFBWTtFQUNaQyxTQUFTLEdBQUcsS0FBSztFQUNqQkMsS0FBSyxHQUFHLElBQUk7RUFDWkMsYUFBYSxHQUFHLElBQUk7RUFDcEJDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztBQUM3QixDQUFDLEtBQUs7RUFDSixNQUFNLENBQUNDLElBQUksRUFBRUMsT0FBTyxDQUFDLEdBQUdwQiwrQ0FBUSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztFQUMxRCxNQUFNLENBQUNxQixRQUFRLEVBQUVDLFdBQVcsQ0FBQyxHQUFHdEIsK0NBQVEsQ0FBQ2tCLGtCQUFrQixDQUFDLENBQUMsQ0FBQztFQUM5RCxNQUFNLENBQUNLLFNBQVMsRUFBRUMsWUFBWSxDQUFDLEdBQUd4QiwrQ0FBUSxDQUFDLEtBQUssQ0FBQzs7RUFFakQ7RUFDQSxNQUFNeUIsU0FBUyxHQUFHeEIsNkNBQU0sQ0FDdEJ5QixLQUFLLENBQUMsQ0FBQyxDQUFDLENBQ0xDLElBQUksQ0FBQyxDQUFDLENBQ05DLEdBQUcsQ0FBQyxtQkFBTTdCLHNEQUFlLENBQUMsQ0FBQyxDQUNoQyxDQUFDOztFQUVEO0VBQ0FJLGdEQUFTLENBQUMsTUFBTTtJQUNkLElBQUlrQixRQUFRLElBQUksQ0FBQyxFQUFFO01BQ2pCRyxZQUFZLENBQUMsSUFBSSxDQUFDO01BQ2xCO0lBQ0Y7SUFFQSxNQUFNTSxLQUFLLEdBQUdDLFdBQVcsQ0FBQyxNQUFNO01BQzlCVCxXQUFXLENBQUVVLElBQUksSUFBSztRQUNwQixJQUFJQSxJQUFJLElBQUksSUFBSSxFQUFFO1VBQ2hCUixZQUFZLENBQUMsSUFBSSxDQUFDO1VBQ2xCLE9BQU8sQ0FBQztRQUNWO1FBQ0EsT0FBT1EsSUFBSSxHQUFHLElBQUk7TUFDcEIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQztJQUVSLE9BQU8sTUFBTUMsYUFBYSxDQUFDSCxLQUFLLENBQUM7RUFDbkMsQ0FBQyxFQUFFLENBQUNULFFBQVEsQ0FBQyxDQUFDOztFQUVkO0VBQ0EsTUFBTWEsZ0JBQWdCLEdBQUdoQyxrREFBVyxDQUFDLE1BQU07SUFDekMsSUFBSVksWUFBWSxFQUFFO01BQ2hCQSxZQUFZLENBQUMsQ0FBQztNQUNkUSxXQUFXLENBQUNKLGtCQUFrQixDQUFDO01BQy9CTSxZQUFZLENBQUMsS0FBSyxDQUFDO01BQ25CO01BQ0FKLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7TUFDakM7TUFDQSxJQUFJSyxTQUFTLENBQUNVLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRUEsT0FBTyxFQUFFO1FBQ2pDVixTQUFTLENBQUNVLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ0EsT0FBTyxDQUFDQyxLQUFLLENBQUMsQ0FBQztNQUN0QztJQUNGO0VBQ0YsQ0FBQyxFQUFFLENBQUN0QixZQUFZLEVBQUVJLGtCQUFrQixDQUFDLENBQUM7O0VBRXRDO0VBQ0FmLGdEQUFTLENBQUMsTUFBTTtJQUNkLElBQUlhLEtBQUssSUFBSUMsYUFBYSxFQUFFO01BQzFCQSxhQUFhLENBQUMsQ0FBQztJQUNqQjtFQUNGLENBQUMsRUFBRSxDQUFDRSxJQUFJLEVBQUVILEtBQUssRUFBRUMsYUFBYSxDQUFDLENBQUM7RUFFaEMsTUFBTW9CLFdBQVcsR0FBR25DLGtEQUFXLENBQUMsQ0FBQ29DLEtBQUssRUFBRUMsS0FBSyxLQUFLO0lBQ2hELE1BQU1DLE9BQU8sR0FBRyxDQUFDLEdBQUdyQixJQUFJLENBQUM7SUFDekIsTUFBTXNCLEtBQUssR0FBR0YsS0FBSyxDQUFDRyxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RESCxPQUFPLENBQUNGLEtBQUssQ0FBQyxHQUFHRyxLQUFLO0lBQ3RCckIsT0FBTyxDQUFDb0IsT0FBTyxDQUFDOztJQUVoQjtJQUNBLElBQUlDLEtBQUssSUFBSUgsS0FBSyxHQUFHLENBQUMsSUFBSWIsU0FBUyxDQUFDVSxPQUFPLENBQUNHLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRTtNQUN0RE0sVUFBVSxDQUFDLE1BQU07UUFDZm5CLFNBQVMsQ0FBQ1UsT0FBTyxDQUFDRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUVILE9BQU8sRUFBRUMsS0FBSyxDQUFDLENBQUM7TUFDaEQsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNQO0VBQ0YsQ0FBQyxFQUFFLENBQUNqQixJQUFJLENBQUMsQ0FBQztFQUVWLE1BQU0wQixhQUFhLEdBQUczQyxrREFBVyxDQUFDLENBQUNvQyxLQUFLLEVBQUVRLENBQUMsS0FBSztJQUM5QyxJQUFJQSxDQUFDLENBQUNDLEdBQUcsS0FBSyxXQUFXLElBQUksQ0FBQzVCLElBQUksQ0FBQ21CLEtBQUssQ0FBQyxJQUFJQSxLQUFLLEdBQUcsQ0FBQyxFQUFFO01BQ3REUSxDQUFDLENBQUNFLGNBQWMsQ0FBQyxDQUFDO01BQ2xCdkIsU0FBUyxDQUFDVSxPQUFPLENBQUNHLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRUgsT0FBTyxFQUFFQyxLQUFLLENBQUMsQ0FBQztJQUNoRCxDQUFDLE1BQU0sSUFBSVUsQ0FBQyxDQUFDQyxHQUFHLEtBQUssV0FBVyxJQUFJVCxLQUFLLEdBQUcsQ0FBQyxFQUFFO01BQzdDUSxDQUFDLENBQUNFLGNBQWMsQ0FBQyxDQUFDO01BQ2xCdkIsU0FBUyxDQUFDVSxPQUFPLENBQUNHLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRUgsT0FBTyxFQUFFQyxLQUFLLENBQUMsQ0FBQztJQUNoRCxDQUFDLE1BQU0sSUFBSVUsQ0FBQyxDQUFDQyxHQUFHLEtBQUssWUFBWSxJQUFJVCxLQUFLLEdBQUcsQ0FBQyxFQUFFO01BQzlDUSxDQUFDLENBQUNFLGNBQWMsQ0FBQyxDQUFDO01BQ2xCdkIsU0FBUyxDQUFDVSxPQUFPLENBQUNHLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRUgsT0FBTyxFQUFFQyxLQUFLLENBQUMsQ0FBQztJQUNoRDtFQUNGLENBQUMsRUFBRSxDQUFDakIsSUFBSSxDQUFDLENBQUM7RUFFVixNQUFNOEIsV0FBVyxHQUFHL0Msa0RBQVcsQ0FBRTRDLENBQUMsSUFBSztJQUNyQ0EsQ0FBQyxDQUFDRSxjQUFjLENBQUMsQ0FBQztJQUNsQixNQUFNRSxVQUFVLEdBQUcsQ0FBQ0osQ0FBQyxDQUFDSyxhQUFhLElBQUlDLE1BQU0sQ0FBQ0QsYUFBYSxFQUFFRSxPQUFPLENBQUMsTUFBTSxDQUFDO0lBRTVFLElBQUksQ0FBQ0gsVUFBVSxFQUFFOztJQUVqQjtJQUNBLE1BQU1JLE1BQU0sR0FBR0osVUFBVSxDQUFDUixPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUU1RCxJQUFJVyxNQUFNLENBQUNDLE1BQU0sS0FBSyxDQUFDLEVBQUU7TUFDdkI7TUFDQTtJQUNGO0lBRUEsTUFBTWYsT0FBTyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDeEMsS0FBSyxJQUFJZ0IsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRixNQUFNLENBQUNDLE1BQU0sRUFBRUMsQ0FBQyxFQUFFLEVBQUU7TUFDdENoQixPQUFPLENBQUNnQixDQUFDLENBQUMsR0FBR0YsTUFBTSxDQUFDRSxDQUFDLENBQUM7SUFDeEI7SUFDQXBDLE9BQU8sQ0FBQ29CLE9BQU8sQ0FBQzs7SUFFaEI7SUFDQSxNQUFNaUIsVUFBVSxHQUFHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQ0wsTUFBTSxDQUFDQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQzdDWCxVQUFVLENBQUMsTUFBTTtNQUNmbkIsU0FBUyxDQUFDVSxPQUFPLENBQUNzQixVQUFVLENBQUMsRUFBRXRCLE9BQU8sRUFBRUMsS0FBSyxDQUFDLENBQUM7SUFDakQsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7SUFFTDtFQUNGLENBQUMsRUFBRSxFQUFFLENBQUM7RUFFTixNQUFNd0IsWUFBWSxHQUFHMUQsa0RBQVcsQ0FBRTRDLENBQUMsSUFBSztJQUN0QyxJQUFJQSxDQUFDLEVBQUVBLENBQUMsQ0FBQ0UsY0FBYyxDQUFDLENBQUM7SUFDekIsSUFBSXpCLFNBQVMsRUFBRSxPQUFPLENBQUM7O0lBRXZCLE1BQU1zQyxPQUFPLEdBQUcxQyxJQUFJLENBQUMyQyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQzdCLElBQUlELE9BQU8sQ0FBQ04sTUFBTSxLQUFLLENBQUMsRUFBRTtJQUMxQjFDLFFBQVEsQ0FBQ2dELE9BQU8sQ0FBQztFQUNuQixDQUFDLEVBQUUsQ0FBQzFDLElBQUksRUFBRU4sUUFBUSxFQUFFVSxTQUFTLENBQUMsQ0FBQztFQUUvQixNQUFNd0MsV0FBVyxHQUFHekQsa0VBQVksQ0FBQ2EsSUFBSSxDQUFDO0VBQ3RDLE1BQU02QyxXQUFXLEdBQUdELFdBQVcsSUFBSSxDQUFDeEMsU0FBUyxJQUFJLENBQUNSLFNBQVM7O0VBRTNEO0VBQ0EsTUFBTWtELFVBQVUsR0FBSUMsRUFBRSxJQUFLO0lBQ3pCLE1BQU1DLFlBQVksR0FBR1QsSUFBSSxDQUFDVSxLQUFLLENBQUNGLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDMUMsTUFBTUcsT0FBTyxHQUFHRixZQUFZLEdBQUcsRUFBRTtJQUNqQyxPQUFPLEdBQUdFLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRTtFQUNqRCxDQUFDO0VBRUQsb0JBQ0U3RCx1REFBQTtJQUFNOEQsU0FBUyxFQUFDLFlBQVk7SUFBQzNELFFBQVEsRUFBRStDLFlBQWE7SUFBQWEsUUFBQSxnQkFDbERqRSxzREFBQTtNQUFLZ0UsU0FBUyxFQUFDLGFBQWE7TUFBQ0UsSUFBSSxFQUFDLE9BQU87TUFBQyxjQUFXLGdDQUFnQztNQUFBRCxRQUFBLEVBQ2xGdEQsSUFBSSxDQUFDUyxHQUFHLENBQUMsQ0FBQ2EsS0FBSyxFQUFFSCxLQUFLLGtCQUNyQjlCLHNEQUFBO1FBRUVtRSxHQUFHLEVBQUVsRCxTQUFTLENBQUNVLE9BQU8sQ0FBQ0csS0FBSyxDQUFFO1FBQzlCc0MsRUFBRSxFQUFFLFFBQVF0QyxLQUFLLEVBQUc7UUFDcEJ1QyxJQUFJLEVBQUMsTUFBTTtRQUNYTCxTQUFTLEVBQUMsWUFBWTtRQUN0Qk0sU0FBUyxFQUFDLEdBQUc7UUFDYkMsT0FBTyxFQUFDLE9BQU87UUFDZkMsU0FBUyxFQUFDLFNBQVM7UUFDbkJ6QyxLQUFLLEVBQUVFLEtBQU07UUFDYndDLE9BQU8sRUFBR25DLENBQUMsSUFBS1QsV0FBVyxDQUFDQyxLQUFLLEVBQUVRLENBQUMsQ0FBQ29DLE1BQU0sQ0FBQzNDLEtBQUssQ0FBRTtRQUNuRDRDLFNBQVMsRUFBR3JDLENBQUMsSUFBS0QsYUFBYSxDQUFDUCxLQUFLLEVBQUVRLENBQUMsQ0FBRTtRQUMxQ3NDLE9BQU8sRUFBRW5DLFdBQVk7UUFDckJvQyxRQUFRO1FBQ1JDLFFBQVEsRUFBRS9ELFNBQVU7UUFDcEIsY0FBWSxjQUFjZSxLQUFLLEdBQUcsQ0FBQyxFQUFHO1FBQ3RDLGdCQUFjLENBQUN5QixXQUFXLElBQUk1QyxJQUFJLENBQUNvRSxNQUFNLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDLENBQUNqQyxNQUFNLEdBQUc7TUFBRSxHQWZ4RCxjQUFjakIsS0FBSyxFQWdCekIsQ0FDRjtJQUFDLENBQ0MsQ0FBQyxFQUdMLENBQUNmLFNBQVMsaUJBQ1RiLHVEQUFBO01BQUs4RCxTQUFTLEVBQUMsWUFBWTtNQUFDaUIsS0FBSyxFQUFFO1FBQ2pDQyxTQUFTLEVBQUUsUUFBUTtRQUNuQkMsUUFBUSxFQUFFLE1BQU07UUFDaEJDLEtBQUssRUFBRSxxQkFBcUI7UUFDNUJDLFNBQVMsRUFBRTtNQUNiLENBQUU7TUFBQXBCLFFBQUEsR0FBQyxtQkFDZ0IsRUFBQ1IsVUFBVSxDQUFDNUMsUUFBUSxDQUFDLEVBQUMsVUFDekM7SUFBQSxDQUFLLENBQ04sRUFFQUwsS0FBSyxpQkFDSlIsc0RBQUE7TUFBS2dFLFNBQVMsRUFBQyw2QkFBNkI7TUFBQ0UsSUFBSSxFQUFDLE9BQU87TUFBQ2UsS0FBSyxFQUFFO1FBQUVLLE9BQU8sRUFBRTtNQUFPLENBQUU7TUFBQXJCLFFBQUEsRUFDbEZ6RDtJQUFLLENBQ0gsQ0FDTixFQUdBLENBQUNPLFNBQVMsaUJBQ1RmLHNEQUFBO01BQ0VxRSxJQUFJLEVBQUMsUUFBUTtNQUNiLGNBQVcsVUFBVTtNQUNyQkwsU0FBUyxFQUFFLGlCQUFpQlIsV0FBVyxHQUFHLGdCQUFnQixHQUFHLFVBQVUsRUFBRztNQUMxRXNCLFFBQVEsRUFBRSxDQUFDdEIsV0FBWTtNQUN2QnlCLEtBQUssRUFBRTtRQUFFSyxPQUFPLEVBQUU5QixXQUFXLEdBQUcsTUFBTSxHQUFHO01BQU8sQ0FBRTtNQUFBUyxRQUFBLEVBRWpEMUQsU0FBUyxnQkFBR1Asc0RBQUEsQ0FBQ0gsZ0RBQU8sSUFBRSxDQUFDLEdBQUc7SUFBVSxDQUMvQixDQUNULEVBR0FrQixTQUFTLElBQUlULFlBQVksaUJBQ3hCTixzREFBQTtNQUNFcUUsSUFBSSxFQUFDLFFBQVE7TUFDYmtCLE9BQU8sRUFBRTdELGdCQUFpQjtNQUMxQixjQUFXLGNBQWM7TUFDekJzQyxTQUFTLEVBQUMsOEJBQThCO01BQ3hDYyxRQUFRLEVBQUV2RSxTQUFVO01BQUEwRCxRQUFBLEVBRW5CMUQsU0FBUyxnQkFBR1Asc0RBQUEsQ0FBQ0gsZ0RBQU8sSUFBRSxDQUFDLEdBQUc7SUFBUyxDQUM5QixDQUNUO0VBQUEsQ0FDRyxDQUFDO0FBRVgsQ0FBQyxDQUFDO0FBRUZNLGFBQWEsQ0FBQ3FGLFNBQVMsR0FBRztFQUN4Qm5GLFFBQVEsRUFBRVQsd0RBQWMsQ0FBQzhGLFVBQVU7RUFDbkNwRixZQUFZLEVBQUVWLHdEQUFjO0VBQzVCVyxTQUFTLEVBQUVYLHdEQUFjO0VBQ3pCWSxLQUFLLEVBQUVaLDBEQUFnQjtFQUN2QmEsYUFBYSxFQUFFYix3REFBYztFQUM3QmMsa0JBQWtCLEVBQUVkLDBEQUFnQmlHO0FBQ3RDLENBQUM7QUFFRDFGLGFBQWEsQ0FBQzJGLFdBQVcsR0FBRyxlQUFlO0FBRTNDLGlFQUFlM0YsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGgtc2NyZWVuLy4vc3JjL2NvbXBvbmVudHMvVHdvRmFjdG9yRm9ybS5qcz84YzY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBTcGlubmVyIGZyb20gJy4vU3Bpbm5lcic7XG5pbXBvcnQgeyB2YWxpZGF0ZUNvZGUgfSBmcm9tICcuLi92YWxpZGF0aW9uL2luZGV4LmpzJztcblxuY29uc3QgVHdvRmFjdG9yRm9ybSA9IFJlYWN0Lm1lbW8oKHsgXG4gIG9uU3VibWl0LCBcbiAgb25HZXROZXdDb2RlLFxuICBpc0xvYWRpbmcgPSBmYWxzZSwgXG4gIGVycm9yID0gbnVsbCwgXG4gIG9uRXJyb3JDaGFuZ2UgPSBudWxsLFxuICBjb2RlRXhwaXJhdGlvblRpbWUgPSAzMDAwMCAvLyAzMCDRgdC10LrRg9C90LQg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4gKNCyINC80LjQu9C70LjRgdC10LrRg9C90LTQsNGFKVxufSkgPT4ge1xuICBjb25zdCBbY29kZSwgc2V0Q29kZV0gPSB1c2VTdGF0ZShbJycsICcnLCAnJywgJycsICcnLCAnJ10pO1xuICBjb25zdCBbdGltZUxlZnQsIHNldFRpbWVMZWZ0XSA9IHVzZVN0YXRlKGNvZGVFeHBpcmF0aW9uVGltZSk7IC8vINCy0YDQtdC80Y8g0LIg0LzQuNC70LvQuNGB0LXQutGD0L3QtNCw0YVcbiAgY29uc3QgW2lzRXhwaXJlZCwgc2V0SXNFeHBpcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyDQodC+0LfQtNCw0ZHQvCByZWYg0LTQu9GPINC60LDQttC00L7Qs9C+INC/0L7Qu9GPXG4gIGNvbnN0IGlucHV0UmVmcyA9IHVzZVJlZihcbiAgICBBcnJheSg2KVxuICAgICAgLmZpbGwoKVxuICAgICAgLm1hcCgoKSA9PiBSZWFjdC5jcmVhdGVSZWYoKSlcbiAgKTtcblxuICAvLyDQotCw0LnQvNC10YAg0L7QsdGA0LDRgtC90L7Qs9C+INC+0YLRgdGH0LXRgtCwXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRpbWVMZWZ0IDw9IDApIHtcbiAgICAgIHNldElzRXhwaXJlZCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHNldFRpbWVMZWZ0KChwcmV2KSA9PiB7XG4gICAgICAgIGlmIChwcmV2IDw9IDEwMDApIHtcbiAgICAgICAgICBzZXRJc0V4cGlyZWQodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXYgLSAxMDAwO1xuICAgICAgfSk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gIH0sIFt0aW1lTGVmdF0pO1xuXG4gIC8vINCh0LHRgNC+0YEg0YLQsNC50LzQtdGA0LAg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuCDQvdC+0LLQvtCz0L4g0LrQvtC00LBcbiAgY29uc3QgaGFuZGxlR2V0TmV3Q29kZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAob25HZXROZXdDb2RlKSB7XG4gICAgICBvbkdldE5ld0NvZGUoKTtcbiAgICAgIHNldFRpbWVMZWZ0KGNvZGVFeHBpcmF0aW9uVGltZSk7XG4gICAgICBzZXRJc0V4cGlyZWQoZmFsc2UpO1xuICAgICAgLy8g0J7Rh9C40YnQsNC10Lwg0L/QvtC70Y8g0LrQvtC00LBcbiAgICAgIHNldENvZGUoWycnLCAnJywgJycsICcnLCAnJywgJyddKTtcbiAgICAgIC8vINCk0L7QutGD0YEg0L3QsCDQv9C10YDQstC+0LUg0L/QvtC70LVcbiAgICAgIGlmIChpbnB1dFJlZnMuY3VycmVudFswXT8uY3VycmVudCkge1xuICAgICAgICBpbnB1dFJlZnMuY3VycmVudFswXS5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbb25HZXROZXdDb2RlLCBjb2RlRXhwaXJhdGlvblRpbWVdKTtcblxuICAvLyDQntGH0LjRidCw0LXQvCDQvtGI0LjQsdC60LggQVBJINC/0YDQuCDQuNC30LzQtdC90LXQvdC40Lgg0LrQvtC00LBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZXJyb3IgJiYgb25FcnJvckNoYW5nZSkge1xuICAgICAgb25FcnJvckNoYW5nZSgpO1xuICAgIH1cbiAgfSwgW2NvZGUsIGVycm9yLCBvbkVycm9yQ2hhbmdlXSk7XG5cbiAgY29uc3QgaGFuZGxlSW5wdXQgPSB1c2VDYWxsYmFjaygoaW5kZXgsIHZhbHVlKSA9PiB7XG4gICAgY29uc3QgbmV3Q29kZSA9IFsuLi5jb2RlXTtcbiAgICBjb25zdCBkaWdpdCA9IHZhbHVlLnJlcGxhY2UoL1teMC05XS9nLCAnJykuc2xpY2UoLTEpOyAvLyDQkdC10YDQtdC8INGC0L7Qu9GM0LrQviDQv9C+0YHQu9C10LTQvdC40Lkg0YHQuNC80LLQvtC7XG4gICAgbmV3Q29kZVtpbmRleF0gPSBkaWdpdDtcbiAgICBzZXRDb2RlKG5ld0NvZGUpO1xuXG4gICAgLy8g0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LjQuSDQv9C10YDQtdGF0L7QtCDQvdCwINGB0LvQtdC00YPRjtGJ0LXQtSDQv9C+0LvQtVxuICAgIGlmIChkaWdpdCAmJiBpbmRleCA8IDUgJiYgaW5wdXRSZWZzLmN1cnJlbnRbaW5kZXggKyAxXSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlucHV0UmVmcy5jdXJyZW50W2luZGV4ICsgMV0/LmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0sIFtjb2RlXSk7XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKChpbmRleCwgZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgIWNvZGVbaW5kZXhdICYmIGluZGV4ID4gMCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW5wdXRSZWZzLmN1cnJlbnRbaW5kZXggLSAxXT8uY3VycmVudD8uZm9jdXMoKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dMZWZ0JyAmJiBpbmRleCA+IDApIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlucHV0UmVmcy5jdXJyZW50W2luZGV4IC0gMV0/LmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnICYmIGluZGV4IDwgNSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaW5wdXRSZWZzLmN1cnJlbnRbaW5kZXggKyAxXT8uY3VycmVudD8uZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtjb2RlXSk7XG5cbiAgY29uc3QgaGFuZGxlUGFzdGUgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBwYXN0ZWREYXRhID0gKGUuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YSkuZ2V0RGF0YSgndGV4dCcpO1xuICAgIFxuICAgIGlmICghcGFzdGVkRGF0YSkgcmV0dXJuO1xuXG4gICAgLy8g0JjQt9Cy0LvQtdC60LDQtdC8INGC0L7Qu9GM0LrQviDRhtC40YTRgNGLINC4INC+0LPRgNCw0L3QuNGH0LjQstCw0LXQvCDQtNC+IDYg0YHQuNC80LLQvtC70L7QslxuICAgIGNvbnN0IGRpZ2l0cyA9IHBhc3RlZERhdGEucmVwbGFjZSgvW14wLTldL2csICcnKS5zbGljZSgwLCA2KTtcblxuICAgIGlmIChkaWdpdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyDQldGB0LvQuCDQvdC10YIg0YbQuNGE0YAsINC/0L7QutCw0LfRi9Cy0LDQtdC8INCy0LjQt9GD0LDQu9GM0L3Rg9GOINC+0LHRgNCw0YLQvdGD0Y4g0YHQstGP0LfRjFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0NvZGUgPSBbJycsICcnLCAnJywgJycsICcnLCAnJ107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWdpdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0NvZGVbaV0gPSBkaWdpdHNbaV07XG4gICAgfVxuICAgIHNldENvZGUobmV3Q29kZSk7XG5cbiAgICAvLyDQpNC+0LrRg9GBINC90LAg0L/QvtGB0LvQtdC00L3QtdC1INC30LDQv9C+0LvQvdC10L3QvdC+0LUg0L/QvtC70LUg0LjQu9C4INC/0LXRgNCy0L7QtSDQv9GD0YHRgtC+0LVcbiAgICBjb25zdCBmb2N1c0luZGV4ID0gTWF0aC5taW4oZGlnaXRzLmxlbmd0aCwgMSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpbnB1dFJlZnMuY3VycmVudFtmb2N1c0luZGV4XT8uY3VycmVudD8uZm9jdXMoKTtcbiAgICB9LCAwKTtcblxuICAgIC8vINCd0JUg0L7RgtC/0YDQsNCy0LvRj9C10Lwg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LggLSDQttC00LXQvCDQvdCw0LbQsNGC0LjRjyDQutC90L7Qv9C60LggQ29udGludWVcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoaXNFeHBpcmVkKSByZXR1cm47IC8vINCd0LUg0L7RgtC/0YDQsNCy0LvRj9C10Lwg0LXRgdC70Lgg0LrQvtC0INC40YHRgtC10LpcbiAgICBcbiAgICBjb25zdCBjb2RlU3RyID0gY29kZS5qb2luKCcnKTtcbiAgICBpZiAoY29kZVN0ci5sZW5ndGggIT09IDYpIHJldHVybjtcbiAgICBvblN1Ym1pdChjb2RlU3RyKTtcbiAgfSwgW2NvZGUsIG9uU3VibWl0LCBpc0V4cGlyZWRdKTtcblxuICBjb25zdCBpc0NvZGVWYWxpZCA9IHZhbGlkYXRlQ29kZShjb2RlKTtcbiAgY29uc3QgY2FuQ29udGludWUgPSBpc0NvZGVWYWxpZCAmJiAhaXNFeHBpcmVkICYmICFpc0xvYWRpbmc7XG5cbiAgLy8g0KTQvtGA0LzQsNGC0LjRgNC+0LLQsNC90LjQtSDQstGA0LXQvNC10L3QuCAoTU06U1MpXG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAobXMpID0+IHtcbiAgICBjb25zdCB0b3RhbFNlY29uZHMgPSBNYXRoLmZsb29yKG1zIC8gMTAwMCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IHRvdGFsU2Vjb25kcyAlIDYwO1xuICAgIHJldHVybiBgJHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGZvcm0gY2xhc3NOYW1lPVwibG9naW4tZm9ybVwiIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2RlLWlucHV0c1wiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJUd28tZmFjdG9yIGF1dGhlbnRpY2F0aW9uIGNvZGVcIj5cbiAgICAgICAge2NvZGUubWFwKChkaWdpdCwgaW5kZXgpID0+IChcbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIGtleT17YGNvZGUtaW5wdXQtJHtpbmRleH1gfVxuICAgICAgICAgICAgcmVmPXtpbnB1dFJlZnMuY3VycmVudFtpbmRleF19XG4gICAgICAgICAgICBpZD17YGNvZGUtJHtpbmRleH1gfVxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29kZS1pbnB1dFwiXG4gICAgICAgICAgICBtYXhMZW5ndGg9XCIxXCJcbiAgICAgICAgICAgIHBhdHRlcm49XCJbMC05XVwiXG4gICAgICAgICAgICBpbnB1dE1vZGU9XCJudW1lcmljXCJcbiAgICAgICAgICAgIHZhbHVlPXtkaWdpdH1cbiAgICAgICAgICAgIG9uSW5wdXQ9eyhlKSA9PiBoYW5kbGVJbnB1dChpbmRleCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gaGFuZGxlS2V5RG93bihpbmRleCwgZSl9XG4gICAgICAgICAgICBvblBhc3RlPXtoYW5kbGVQYXN0ZX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNFeHBpcmVkfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD17YENvZGUgZGlnaXQgJHtpbmRleCArIDF9YH1cbiAgICAgICAgICAgIGFyaWEtaW52YWxpZD17IWlzQ29kZVZhbGlkICYmIGNvZGUuZmlsdGVyKGMgPT4gYykubGVuZ3RoID4gMH1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7Lyog0KLQsNC50LzQtdGAINC+0LHRgNCw0YLQvdC+0LPQviDQvtGC0YHRh9C10YLQsCAqL31cbiAgICAgIHshaXNFeHBpcmVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2RlLXRpbWVyXCIgc3R5bGU9e3sgXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJywgXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JywgXG4gICAgICAgICAgY29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNDUpJyxcbiAgICAgICAgICBtYXJnaW5Ub3A6ICc4cHgnXG4gICAgICAgIH19PlxuICAgICAgICAgIENvZGUgZXhwaXJlcyBpbjoge2Zvcm1hdFRpbWUodGltZUxlZnQpfSBzZWNvbmRzXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1jYXB0aW9uIGVycm9yLW1lc3NhZ2VcIiByb2xlPVwiYWxlcnRcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcgfX0+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDQmtC90L7Qv9C60LAgQ29udGludWUgLSDQv9C+0LrQsNC30YvQstCw0LXRgtGB0Y8g0YLQvtC70YzQutC+INC60L7Qs9C00LAg0LrQvtC0INCy0LDQu9C40LTQtdC9INC4INC90LUg0LjRgdGC0LXQuiAqL31cbiAgICAgIHshaXNFeHBpcmVkICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb250aW51ZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtgc3VibWl0LWJ1dHRvbiAke2NhbkNvbnRpbnVlID8gJ3ByaW1hcnktYnV0dG9uJyA6ICdkaXNhYmxlZCd9YH1cbiAgICAgICAgICBkaXNhYmxlZD17IWNhbkNvbnRpbnVlfVxuICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IGNhbkNvbnRpbnVlID8gJ2ZsZXgnIDogJ25vbmUnIH19XG4gICAgICAgID5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gPFNwaW5uZXIgLz4gOiAnQ29udGludWUnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDQmtC90L7Qv9C60LAgR2V0IG5vdyAtINC/0L7QutCw0LfRi9Cy0LDQtdGC0YHRjyDQutC+0LPQtNCwINC60L7QtCDQuNGB0YLQtdC6ICovfVxuICAgICAge2lzRXhwaXJlZCAmJiBvbkdldE5ld0NvZGUgJiYgKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlR2V0TmV3Q29kZX1cbiAgICAgICAgICBhcmlhLWxhYmVsPVwiR2V0IG5ldyBjb2RlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJzdWJtaXQtYnV0dG9uIHByaW1hcnktYnV0dG9uXCJcbiAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICA+XG4gICAgICAgICAge2lzTG9hZGluZyA/IDxTcGlubmVyIC8+IDogJ0dldCBub3cnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG4gICAgPC9mb3JtPlxuICApO1xufSk7XG5cblR3b0ZhY3RvckZvcm0ucHJvcFR5cGVzID0ge1xuICBvblN1Ym1pdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgb25HZXROZXdDb2RlOiBQcm9wVHlwZXMuZnVuYyxcbiAgaXNMb2FkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgZXJyb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG9uRXJyb3JDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBjb2RlRXhwaXJhdGlvblRpbWU6IFByb3BUeXBlcy5udW1iZXIsXG59O1xuXG5Ud29GYWN0b3JGb3JtLmRpc3BsYXlOYW1lID0gJ1R3b0ZhY3RvckZvcm0nO1xuXG5leHBvcnQgZGVmYXVsdCBUd29GYWN0b3JGb3JtO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsIlByb3BUeXBlcyIsIlNwaW5uZXIiLCJ2YWxpZGF0ZUNvZGUiLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiVHdvRmFjdG9yRm9ybSIsIm1lbW8iLCJvblN1Ym1pdCIsIm9uR2V0TmV3Q29kZSIsImlzTG9hZGluZyIsImVycm9yIiwib25FcnJvckNoYW5nZSIsImNvZGVFeHBpcmF0aW9uVGltZSIsImNvZGUiLCJzZXRDb2RlIiwidGltZUxlZnQiLCJzZXRUaW1lTGVmdCIsImlzRXhwaXJlZCIsInNldElzRXhwaXJlZCIsImlucHV0UmVmcyIsIkFycmF5IiwiZmlsbCIsIm1hcCIsImNyZWF0ZVJlZiIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJwcmV2IiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZUdldE5ld0NvZGUiLCJjdXJyZW50IiwiZm9jdXMiLCJoYW5kbGVJbnB1dCIsImluZGV4IiwidmFsdWUiLCJuZXdDb2RlIiwiZGlnaXQiLCJyZXBsYWNlIiwic2xpY2UiLCJzZXRUaW1lb3V0IiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZVBhc3RlIiwicGFzdGVkRGF0YSIsImNsaXBib2FyZERhdGEiLCJ3aW5kb3ciLCJnZXREYXRhIiwiZGlnaXRzIiwibGVuZ3RoIiwiaSIsImZvY3VzSW5kZXgiLCJNYXRoIiwibWluIiwiaGFuZGxlU3VibWl0IiwiY29kZVN0ciIsImpvaW4iLCJpc0NvZGVWYWxpZCIsImNhbkNvbnRpbnVlIiwiZm9ybWF0VGltZSIsIm1zIiwidG90YWxTZWNvbmRzIiwiZmxvb3IiLCJzZWNvbmRzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwicm9sZSIsInJlZiIsImlkIiwidHlwZSIsIm1heExlbmd0aCIsInBhdHRlcm4iLCJpbnB1dE1vZGUiLCJvbklucHV0IiwidGFyZ2V0Iiwib25LZXlEb3duIiwib25QYXN0ZSIsInJlcXVpcmVkIiwiZGlzYWJsZWQiLCJmaWx0ZXIiLCJjIiwic3R5bGUiLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsImNvbG9yIiwibWFyZ2luVG9wIiwiZGlzcGxheSIsIm9uQ2xpY2siLCJwcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsImJvb2wiLCJzdHJpbmciLCJudW1iZXIiLCJkaXNwbGF5TmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/TwoFactorForm.js\n\n}");

/***/ }),

/***/ "./src/validation/index.js":
/*!*********************************!*\
  !*** ./src/validation/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getValidationErrors: () => (/* binding */ getValidationErrors),\n/* harmony export */   validateCode: () => (/* binding */ validateCode),\n/* harmony export */   validateEmail: () => (/* binding */ validateEmail),\n/* harmony export */   validatePassword: () => (/* binding */ validatePassword)\n/* harmony export */ });\nconst validateEmail = email => {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n};\nconst validatePassword = password => {\n  return password.length >= 6;\n};\nconst validateCode = code => {\n  const codeStr = code.join('');\n  const re = /^\\d{6}$/;\n  return re.test(codeStr);\n};\nconst getValidationErrors = formData => {\n  const errors = {};\n  if (!formData.email) {\n    errors.email = 'Email is required';\n  } else if (!validateEmail(formData.email)) {\n    errors.email = 'Invalid email format';\n  }\n  if (!formData.password) {\n    errors.password = 'Password is required';\n  } else if (!validatePassword(formData.password)) {\n    errors.password = 'Password must be at least 6 characters';\n  }\n  return errors;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmFsaWRhdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU8sTUFBTUEsYUFBYSxHQUFJQyxLQUFLLElBQUs7RUFDdEMsT0FBTyw0QkFBNEIsQ0FBQ0MsSUFBSSxDQUFDRCxLQUFLLENBQUM7QUFDakQsQ0FBQztBQUVNLE1BQU1FLGdCQUFnQixHQUFJQyxRQUFRLElBQUs7RUFDNUMsT0FBT0EsUUFBUSxDQUFDQyxNQUFNLElBQUksQ0FBQztBQUM3QixDQUFDO0FBRU0sTUFBTUMsWUFBWSxHQUFJQyxJQUFJLElBQUs7RUFDcEMsTUFBTUMsT0FBTyxHQUFHRCxJQUFJLENBQUNFLElBQUksQ0FBQyxFQUFFLENBQUM7RUFDN0IsTUFBTUMsRUFBRSxHQUFHLFNBQVM7RUFDcEIsT0FBT0EsRUFBRSxDQUFDUixJQUFJLENBQUNNLE9BQU8sQ0FBQztBQUN6QixDQUFDO0FBRU0sTUFBTUcsbUJBQW1CLEdBQUlDLFFBQVEsSUFBSztFQUMvQyxNQUFNQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0VBRWpCLElBQUksQ0FBQ0QsUUFBUSxDQUFDWCxLQUFLLEVBQUU7SUFDbkJZLE1BQU0sQ0FBQ1osS0FBSyxHQUFHLG1CQUFtQjtFQUNwQyxDQUFDLE1BQU0sSUFBSSxDQUFDRCxhQUFhLENBQUNZLFFBQVEsQ0FBQ1gsS0FBSyxDQUFDLEVBQUU7SUFDekNZLE1BQU0sQ0FBQ1osS0FBSyxHQUFHLHNCQUFzQjtFQUN2QztFQUVBLElBQUksQ0FBQ1csUUFBUSxDQUFDUixRQUFRLEVBQUU7SUFDdEJTLE1BQU0sQ0FBQ1QsUUFBUSxHQUFHLHNCQUFzQjtFQUMxQyxDQUFDLE1BQU0sSUFBSSxDQUFDRCxnQkFBZ0IsQ0FBQ1MsUUFBUSxDQUFDUixRQUFRLENBQUMsRUFBRTtJQUMvQ1MsTUFBTSxDQUFDVCxRQUFRLEdBQUcsd0NBQXdDO0VBQzVEO0VBRUEsT0FBT1MsTUFBTTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoLXNjcmVlbi8uL3NyYy92YWxpZGF0aW9uL2luZGV4LmpzP2RhOWEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZhbGlkYXRlRW1haWwgPSAoZW1haWwpID0+IHtcbiAgcmV0dXJuIC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QoZW1haWwpO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlUGFzc3dvcmQgPSAocGFzc3dvcmQpID0+IHtcbiAgcmV0dXJuIHBhc3N3b3JkLmxlbmd0aCA+PSA2O1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQ29kZSA9IChjb2RlKSA9PiB7XG4gIGNvbnN0IGNvZGVTdHIgPSBjb2RlLmpvaW4oJycpO1xuICBjb25zdCByZSA9IC9eXFxkezZ9JC87XG4gIHJldHVybiByZS50ZXN0KGNvZGVTdHIpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFZhbGlkYXRpb25FcnJvcnMgPSAoZm9ybURhdGEpID0+IHtcbiAgY29uc3QgZXJyb3JzID0ge307XG5cbiAgaWYgKCFmb3JtRGF0YS5lbWFpbCkge1xuICAgIGVycm9ycy5lbWFpbCA9ICdFbWFpbCBpcyByZXF1aXJlZCc7XG4gIH0gZWxzZSBpZiAoIXZhbGlkYXRlRW1haWwoZm9ybURhdGEuZW1haWwpKSB7XG4gICAgZXJyb3JzLmVtYWlsID0gJ0ludmFsaWQgZW1haWwgZm9ybWF0JztcbiAgfVxuXG4gIGlmICghZm9ybURhdGEucGFzc3dvcmQpIHtcbiAgICBlcnJvcnMucGFzc3dvcmQgPSAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnO1xuICB9IGVsc2UgaWYgKCF2YWxpZGF0ZVBhc3N3b3JkKGZvcm1EYXRhLnBhc3N3b3JkKSkge1xuICAgIGVycm9ycy5wYXNzd29yZCA9ICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycyc7XG4gIH1cblxuICByZXR1cm4gZXJyb3JzO1xufTtcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0ZUVtYWlsIiwiZW1haWwiLCJ0ZXN0IiwidmFsaWRhdGVQYXNzd29yZCIsInBhc3N3b3JkIiwibGVuZ3RoIiwidmFsaWRhdGVDb2RlIiwiY29kZSIsImNvZGVTdHIiLCJqb2luIiwicmUiLCJnZXRWYWxpZGF0aW9uRXJyb3JzIiwiZm9ybURhdGEiLCJlcnJvcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/validation/index.js\n\n}");

/***/ })

}]);